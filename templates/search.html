{% extends 'base.html' %}

{% block title %}Search Questions{% endblock %}

{% block content %}
<link rel="stylesheet" href="/static/css/search.css">

<div class="search-container">
    <div class="search-header">
        <h1>Search Questions</h1>
        <p>Search our database of over 47,000 questions</p>
    </div>

    <div class="search-form">
        <form id="searchForm" action="/search" method="GET">
            <div class="input-group">
                <input 
                    type="text" 
                    name="query" 
                    id="searchQuery" 
                    class="form-control" 
                    placeholder="Search for questions..." 
                    value="{{ query }}"
                    autocomplete="off"
                >
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-search"></i> Search
                </button>
            </div>
        </form>
    </div>

    <div class="search-filters">
        <div class="filter-section">
            <h3>Filter By</h3>
            <div class="filters-container">
                <div class="filter-group">
                    <label>Exam:</label>
                    <select id="examFilter" class="form-select" data-initial="{{ initial_exam }}">
                        <option value="">Select Exam</option>
                        <option value="b3b5a8d8-f409-4e01-8fd4-043d3055db5e">JEE Main</option>
                        <option value="6d34f7cd-c80e-4a42-8c35-2b167f459c06">JEE Advanced</option>
                        <option value="2871e14c-fbcf-4047-9955-e210b0fb742b">NDA</option>
                        <option value="f3e78517-c050-4fea-822b-e43c4d2d3523">WBJEE</option>
                        <option value="c8da26c7-cf1b-421f-829b-c95dbdd3cc6a">BITSAT</option>
                        <option value="4fe0bca2-d3eb-43e8-b705-f4eb7301a74c">VITEEE</option>
                        <option value="1aa38a2b-dee5-453e-a394-29c033c16789">MHT CET</option>
                        <option value="bb792041-50de-4cfe-83f3-f899a79c0930">COMEDK</option>
                        <option value="4625ad6f-33db-4c22-96e0-6c23830482de">NEET</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label>Subject:</label>
                    <select id="subjectFilter" class="form-select" data-initial="{{ initial_subject }}" disabled>
                        <option value="">Select Subject</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label>Chapter:</label>
                    <select id="chapterFilter" class="form-select" data-initial="{{ initial_chapter }}" disabled>
                        <option value="">Select Chapter</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label>Paper:</label>
                    <select id="paperFilter" class="form-select" disabled>
                        <option value="">Select Paper</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <div id="searchResults" class="search-results">
        <!-- Results will be loaded here via JavaScript -->
        <div class="empty-state">
            <i class="fas fa-search fa-3x"></i>
            <p>Enter a search query or select filters to find questions</p>
        </div>
    </div>

    <div id="pagination" class="pagination-container">
        <!-- Pagination will be added here via JavaScript -->
    </div>
</div>

<script src="/static/js/search.js"></script>
{% endblock %}